package app;

import io.javalin.http.Context;
import io.javalin.http.Handler;

/**
 * Example Index HTML class using Javalin
 * <p>
 * Generate a static HTML page using Javalin
 * by writing the raw HTML into a Java String object
 *
 * @author Timothy Wiley, 2021. email: timothy.wiley@rmit.edu.au
 * @author Santha Sumanasekara, 2021. email: santha.sumanasekara@rmit.edu.au
 */
public class Compare implements Handler {

    // URL of this page relative to http://localhost:7000/
    public static final String URL = "/compare-countries";

    @Override
    public void handle(Context context) throws Exception {
        // Create a simple HTML webpage in a String
        String html = "<!DOCTYPE html><html lang='en'><head> <meta charset='UTF-8'> <meta http-equiv='X-UA-Compatible' content='IE=edge'> <meta name='viewport' content='width=device-width, initial-scale=1.0'> <title>Milestone Project</title> <link rel='stylesheet' href='tailwind.min.css'> <link rel='stylesheet' href='main.css'> <link rel='stylesheet' href='jquery-ui.min.css'> <link rel='stylesheet' href='jquery-ui.structure.min.css'> <link rel='stylesheet' href='jquery-ui.theme.min.css'> <link rel='stylesheet' type='text/css' href='datatables.min.css'/></head><body> <div class='cover flex'> <div class='sidebar hidden relative px-2'> <div class='top'> <div class='logo pl-1 pt-4'> <img src='logo.svg' alt='logo'> </div><!-- <a href=''> <div class='result flex items-center hover:bg-gray-300 px-3 py-1'> <img src='https://www.countryflags.io/AF/shiny/24.png' alt='flag' class='rounded rounded-md mr-3'>Afghanistan </div></a> --> <div class='searchBox relative'> <input type='text' name='search' id='search' class='mx-auto' placeholder='Search Country...'> <div class='loading absolute bg-white' id='searchResults'> <svg version='1.1' id='L1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 100 100' enable-background='new 0 0 100 100' xml:space='preserve'> <circle fill='none' stroke='#2f49d0' stroke-width='6' stroke-miterlimit='15' stroke-dasharray='14.2472,14.2472' cx='50' cy='50' r='47'> <animateTransform attributeName='transform' attributeType='XML' type='rotate' dur='5s' from='0 50 50' to='360 50 50' repeatCount='indefinite'/> </circle> <circle fill='none' stroke='#2f49d0' stroke-width='1' stroke-miterlimit='10' stroke-dasharray='10,10' cx='50' cy='50' r='39'> <animateTransform attributeName='transform' attributeType='XML' type='rotate' dur='5s' from='0 50 50' to='-360 50 50' repeatCount='indefinite'/> </circle> <g fill='#2f49d0'> <rect x='30' y='35' width='5' height='30'> <animateTransform attributeName='transform' dur='1s' type='translate' values='0 5 ; 0 -5; 0 5' repeatCount='indefinite' begin='0.1'/> </rect> <rect x='40' y='35' width='5' height='30'> <animateTransform attributeName='transform' dur='1s' type='translate' values='0 5 ; 0 -5; 0 5' repeatCount='indefinite' begin='0.2'/> </rect> <rect x='50' y='35' width='5' height='30'> <animateTransform attributeName='transform' dur='1s' type='translate' values='0 5 ; 0 -5; 0 5' repeatCount='indefinite' begin='0.3'/> </rect> <rect x='60' y='35' width='5' height='30'> <animateTransform attributeName='transform' dur='1s' type='translate' values='0 5 ; 0 -5; 0 5' repeatCount='indefinite' begin='0.4'/> </rect> <rect x='70' y='35' width='5' height='30'> <animateTransform attributeName='transform' dur='1s' type='translate' values='0 5 ; 0 -5; 0 5' repeatCount='indefinite' begin='0.5'/> </rect> </g> </svg> </div></div></div><div class='bottom pt-3'> <a href='/'> <div class='item cursor-pointer w-full px-3 flex flex-row h-10 items-center my-3 rounded-lg '> <div class='icon'> <img src='home.svg' alt='Home'> </div><div class='name-item cursor-pointer text-white px-2'>Home</div></div></a> <a href='/overview'> <div class='item cursor-pointer w-full px-3 flex flex-row h-10 items-center my-3 rounded-lg '> <div class='icon'> <img src='overview.svg' alt='Home'> </div><div class='name-item cursor-pointer text-white px-2'>Overview</div></div></a> <a href='/infections-by-country'> <div class='item cursor-pointer w-full px-3 flex flex-row h-10 items-center my-3 rounded-lg '> <div class='icon'> <img src='infections.svg' alt='Home'> </div><div class='name-item cursor-pointer text-white px-2'>Infections by Country</div></div></a> <a href='/deaths'> <div class='item cursor-pointer w-full px-3 flex flex-row h-10 items-center my-3 rounded-lg '> <div class='icon'> <img src='deaths.svg' alt='Home'> </div><div class='name-item cursor-pointer text-white px-2'>Deaths by Country</div></div></a> <a href='/compare-countries'> <div class='item cursor-pointer w-full px-3 flex flex-row h-10 items-center my-3 rounded-lg selected'> <div class='icon'> <img src='countries.svg' alt='Home'> </div><div class='name-item cursor-pointer text-white px-2'>Compare Countries</div></div></a> <a href='/reports'> <div class='item cursor-pointer w-full px-3 flex flex-row h-10 items-center my-3 rounded-lg '> <div class='icon'> <img src='reports.svg' alt='Home'> </div><div class='name-item cursor-pointer text-white px-2'>Reports</div></div></a> </div><div class='profile-short-menu absolute bottom-0 left-0 flex justify-between px-4 w-full h-16 border-t border-gray-100 items-center shadow-lg'> <div class='profile-pic w-12'> <img src='profile.jpeg' alt='Profile' class='w-full rounded-full'> </div><div class='icons'> <span class='fas fa-cog fa-lg text-white'></span> </div></div></div><div class='container w-full h-full'> <nav class='nav px-4 h-10'> <div class='patch'> <span class='fas fa-bars fa-lg' id='nav_control_icon'></span> <input type='checkbox' id='nav_control' class='cursor-pointer'> </div></nav> <div class='content px-4' id='content'> <div> <div class='left-f mt-2 border rounded-xl border-gray-300 float-left'> <div class='bottom py-3 px-4 ml-3'> <form action='' method='get'> <div class='head border-b border-gray-300 pb-1'> <div class='heading'> <div class='title'> <h1 class='mx-2 text-lg font-semibold'>Select countries to compare:</h1> <div class='flex flex-row flex-wrap'> <select name='country_' id='country_1' class='select w-28'> <option value='worldwide'>Worldwide</option> <option value='AUS'>Australia</option> </select> <select name='country_2' id='country_2' class='select w-28'> <option value='worldwide'>Worldwide</option> <option value='AUS'>Australia</option> </select> </div></div></div></div><div class='sorting flex flex-row flex-wrap'> <div class='time-period flex flex-nowrap px-2' style='height: 26px;'> <p class='text-gray-500'>From:</p><input type='text' name='date_begin' id='date_begin' class='inp'> <p class='text-gray-500'> To:</p><input type='text' name='date_end' id='date_end' class='inp'> <img src='calendar.svg' alt='calendar'> </div> <!-- <input type='submit' value='Go' id='go' class='submit'> --> </div></form> <div class='data-tables px-3' data-check='side'> <div class='sides'> <div class='col flex pt-3 px-2 justify-between'> <h1 id='country_Name_1' class='text-xl font-semibold'>Country 1</h1> <h1 id='country_Name_2' class='text-xl font-semibold'>Country 2</h1> </div><div class='col flex py-3 px-2 border-t border-gray-400 justify-between'> <div class='country_1'> <h1 class='text-md font-semibold'>Total Cases</h1> <h1 id='country_TCases_1'>-</h1> </div><div class='country_2 text-right'> <h1 class='text-md font-semibold'>Total Cases</h1> <h1 id='country_TCases_2'>-</h1> </div></div><div class='col flex py-3 px-2 border-t border-gray-400 justify-between'> <div class='country_1'> <h1 class='text-md font-semibold'>Total Deaths</h1> <h1 id='country_TDeath_1'>-</h1> </div><div class='country_2 text-right'> <h1 class='text-md font-semibold'>Total Deaths</h1> <h1 id='country_TDeath_2'>-</h1> </div></div><div class='col flex py-3 px-2 border-t border-gray-400 justify-between'> <div class='country_1'> <h1 class='text-md font-semibold'>Infections per capita</h1> <h1 id='country_PerCap_1'>-</h1> </div><div class='country_2 text-right'> <h1 class='text-md font-semibold'>Infections per capita</h1> <h1 id='country_PerCap_2'>-</h1> </div></div><div class='col flex py-3 px-2 border-t border-gray-400 justify-between'> <div class='country_1'> <h1 class='text-md font-semibold'>Mortality Rate</h1> <h1 id='country_Mort_1'>-</h1> </div><div class='country_2 text-right'> <h1 class='text-md font-semibold'>Mortality Rate</h1> <h1 id='country_Mort_2'>-</h1> </div></div><div class='col flex py-3 px-2 border-t border-gray-400 justify-between'> <div class='country_1'> <h1 class='text-md font-semibold'>Maximum Daily</h1> <h1 id='country_MaxD_1'>-</h1> </div><div class='country_2 text-right'> <h1 class='text-md font-semibold'>Maximum Daily</h1> <h1 id='country_MaxD_2'>-</h1> </div></div></div></div></div></div></div>";
        // Finish HTML


        html = html + "<div class='mt-2 data_region ml-auto p-3 border border-gray-300 rounded-xl mb-4' style='position: relative; float: right; width: 64% !important;'> <h1 class='text-xl font-semibold mb-3'>Compare region data:</h1> <select name='country_name' id='country_name' class='select w-40 float-right mb-10' style='position: absolute; top: 6px; right: 10px;'><option value='Australia' selected>Australia</option> <option value='China'>China</option> <option value='Denmark'>Denmark</option> <option value='France'>France</option> <option value='Netherlands'>Netherlands</option> <option value='United Kingdom'>United Kingdom</option> <option value='US'>US</option> </select> <hr class='mb-4'> <table id='data-tablesi' class='display' style='width:100%'> <thead> <tr data-country='none'> <th id='data-name'>Region Name</th> <th id='data-death'>Latitude</th> <th id='data-recovery'>Longitude</th> <th id='data-recovery'>Total Cases</th> <th id='data-recovery'>Total Deaths</th> </tr></thead> <tbody id='table-uuii'> </tbody> </table> </div> </div></div></div><script defer src='https://use.fontawesome.com/releases/v5.15.3/js/all.js' integrity='sha384-haqrlim99xjfMxRP6EWtafs0sB1WKcMdynwZleuUSwJR0mDeRYbhtY+KPMr+JL6f' crossorigin='anonymous'></script> <script src='https://code.jquery.com/jquery-3.5.1.js'></script> <script src='https://cdn.jsdelivr.net/npm/chart.js@3.3.2/dist/chart.min.js'></script> <script src='https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js'></script> <script src='jquery-ui.min.js'></script> <script src='https://cdn.jsdelivr.net/npm/chart.js@3.3.2/dist/chart.min.js'></script><script src='main.js'></script><script src='compare.js'></script><script>ty();</script></body></html>";
        // Makes Javalin render the webpage
        context.html(html);
    }

}
